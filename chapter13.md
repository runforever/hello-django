# 文章标签功能开发

很多博客都有文章标签功能，功能一个是博客侧边的标签云展示，二是点击标签后可以查看带有相应标签的文章，标签云功能跟文章分类功能类似，在章节 [文章分类功能开发](chapter8.md) 中我们将分类和文章的数据库表关系设计为一对多，这里我们将文章标签和文章的关系设计为多对多，即一个文章标签可以对应多篇文章，一篇文章可以包含多个标签。

## 数据库表设计
标签的字段内容如下：

1. 标签名。
2. 文章，使用 Django ORM 的 ManyToManyField 来表示多对多关系。

## Django Admin 中添加文章标签管理
参照 [使用 Django Admin 管理博客文章](chapter4.md) 中的教程添加。

## 使用 Django View 将标签显示出来
BlogIndexView 和 BlogDetailView 中添加使用 Django ORM 获取所有文章标签的代码。

## 改进获取文章标签代码
BlogIndexView 和 BlogDetailView 中添加相同的获取标签的代码，这显然不符合 DRY 原则，使用 Python Mixin 机制改进。

## 总结
功能完成后我们要及时发现重复或者让人觉得隐晦的代码，重构这些代码让它们更有利于后续维护，无论是你自己还是后面接手的人都会感谢你的。
